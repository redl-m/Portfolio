<div class="timeline-container">
  <div class="timeline-line"></div>

  <div class="year-ticks">
    <div *ngFor="let year of years" class="year-tick" [style.left]="(year - startYear) / (endYear - startYear + 1) * 100 + '%'">
      <div class="tick-line"></div>
      <div class="tick-label">{{ year }}</div>
    </div>
  </div>

  <div class="bars">
    <div
      *ngFor="let exp of experiences"
      class="bar-wrapper"
      [ngClass]="exp.type"
      [ngStyle]="getBarStyle(exp.startYear, exp.endYear)"
      (mouseenter)="onHover(exp)"
      (mouseleave)="onHover(null)"
    >
      <div class="experience-bar" [ngClass]="exp.type"></div>
    </div>
  </div>

  <div class="info-window work"
       [class.visible]="hoveredWorkItem"
       (mouseenter)="onInfoEnter('work')"
       (mouseleave)="onInfoLeave('work')">
    <svg class="info-window-border" preserveAspectRatio="none">
      <rect width="100%" height="100%" />
    </svg>
    <div class="info-window-content" *ngIf="hoveredWorkItem">
      <h3>{{ hoveredWorkItem.info.title }}</h3>
      <p>{{ hoveredWorkItem.info.description }}</p>
      <div class="links" *ngIf="hoveredWorkItem.info.links?.length">
        <a *ngFor="let link of hoveredWorkItem.info.links" [href]="link.url" target="_blank" rel="noopener noreferrer">{{ link.text }}</a>
      </div>
    </div>
  </div>

  <div class="info-window education"
       [class.visible]="hoveredEducationItem"
       (mouseenter)="onInfoEnter('education')"
       (mouseleave)="onInfoLeave('education')">
    <svg class="info-window-border" preserveAspectRatio="none">
      <rect width="100%" height="100%" />
    </svg>
    <div class="info-window-content" *ngIf="hoveredEducationItem">
      <h3>{{ hoveredEducationItem.info.title }}</h3>
      <p>{{ hoveredEducationItem.info.description }}</p>
      <div class="links" *ngIf="hoveredEducationItem.info.links?.length">
        <a *ngFor="let link of hoveredEducationItem.info.links" [href]="link.url" target="_blank" rel="noopener noreferrer">{{ link.text }}</a>
      </div>
    </div>
  </div>
</div>
